import e from"react";import{HtmlUtils as a}from"@delpi/common";var t=function(t){var n=t.className,r=t.totalCount,i=t.limit,o=void 0===i?10:i,s=t.currentPage,l=t.sectionNumber,c=void 0===l?5:l,d=t.type,m=void 0===d?"default":d,u=t.labelFirst,g=void 0===u?"|<<":u,p=t.labelLast,v=void 0===p?">>|":p,f=t.labelBack,E=void 0===f?"<":f,b=t.labelForward,F=void 0===b?">":b,N=t.showFirstLast,C=void 0===N||N,h=t.showForwardBack,j=void 0!==h&&h,k=t.hideFirstLastIfActive,w=void 0!==k&&k,y=t.setCurrentPage;if(!r||!o)return e.createElement(e.Fragment,null);var A=Math.ceil(r/o);e.useEffect((function(){s<=0&&y(1),s>A&&y(A)}),[s]),c<3&&(c=3),c>A&&(c=A);var L,B,P=s>2,x=s+c<=A+1,I=s>A;if("default"!==m)return e.createElement((function(){return e.createElement("div",{className:a.joinClass("paginator-root-container","pager-container","paging-button",n)},C&&e.createElement(H,{disabled:L}),e.createElement(J,{disabled:L}),e.createElement("div",{className:a.joinClass("paginator-root-container","paging-current")},I?A:s),e.createElement("div",{className:a.joinClass("paginator-root-container","paging-separator")},"/"),e.createElement("div",{className:a.joinClass("paginator-root-container","paging-totals")},A),e.createElement(J,{isFirst:!1,disabled:B}),C&&e.createElement(H,{isFirst:!1,disabled:B}))}),null);L=(I=I||A<=c)||s<=1,B=I||s>=A;var M=[],q=s-1;q<=0&&(q=1);var z=q+c;z>A&&(q=(z=A+1)-c);for(var D=q;D<z;D++)M.push(D);return e.createElement("div",{className:a.joinClass("paginator-root-container","paginator-container","paging-button",n)},j&&e.createElement(J,{disabled:L}),C&&e.createElement(G,null),function(e,a,t){if(t||2===arguments.length)for(var n,r=0,i=a.length;r<i;r++)!n&&r in a||(n||(n=Array.prototype.slice.call(a,0,r)),n[r]=a[r]);return e.concat(n||Array.prototype.slice.call(a))}([],M,!0).map((function(t,n){return e.createElement("button",{key:"n-".concat(t,"-").concat(n),className:a.joinClass("paging-numbered",s===t&&"paging-active"),onClick:function(){return y(t)}},t)})),C&&e.createElement(G,{isFirst:!1}),j&&e.createElement(J,{isFirst:!1,disabled:B}));function G(t){var n=t.isFirst,r=void 0===n||n,i=r?P:x;return e.createElement("div",{className:a.joinClass("paginator-root-container","".concat(!I&&i?"paging-show":"paging-hide"),w&&"paging-hide-now")},!r&&e.createElement("span",{className:"paging-more"},"..."),e.createElement(H,{isFirst:r}),r&&e.createElement("span",{className:"paging-more"},"..."))}function H(a){var t=a.isFirst,n=void 0===t||t,r=a.disabled,i=void 0!==r&&r;return e.createElement("button",{className:"paging-first-last",disabled:i,onClick:function(){return y(n?1:A)}},n?g:v)}function J(a){var t=a.isFirst,n=void 0===t||t,r=a.disabled,i=void 0!==r&&r;return e.createElement("button",{className:"paging-forward-back",disabled:i,onClick:function(){if(!i)return y(s-(n?1:-1))}},n?E:F)}};export{t as Pagination,t as default};
